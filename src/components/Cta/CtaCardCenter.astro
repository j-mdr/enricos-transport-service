---
/**
 * * CTA card with centered text and corner blobs
 */
import { getLocalizedRoute } from "@/js/translationUtils";
import { Icon } from "astro-icon/components";

// components
import Button from "@components/Button/Button.astro";

// utils
import { getLocaleFromUrl } from "@js/localeUtils";

const currLocale = getLocaleFromUrl(Astro.url);

interface Props {
  title: string;
  description: string;
  ctaText: string;
  ctaLink: string;
}

const {
  title = "Vraag vrijblijvend een offerte op",
  description = "We doen ons best om z.s.m. een reactie te geven.",
  ctaText = "Vraag offerte aan",
  ctaLink = getLocalizedRoute(currLocale, "/partner-worden"),
} = Astro.props;
---

<section id="cta" class="my-24 py-8 md:my-36">
  <div class="site-container">
    <div class="border-primary-300 relative h-full w-full overflow-hidden rounded-xl border">
      <!-- bottom left blob -->
      <Icon
        name="stellar/blob-1"
        class="text-primary-200/50 absolute top-0 left-0 -z-10 h-[200%] w-[150%] -translate-x-[50%] rotate-12"
        aria-hidden="true"
      />

      <!-- top left blob -->
      <Icon
        name="stellar/blob-2"
        class="text-primary-400/50 absolute top-0 left-0 -z-10 h-[200%] w-[150%] -translate-x-[50%] -translate-y-[50%] rotate-12"
        aria-hidden="true"
      />

      <!-- bottom right blob -->
      <Icon
        name="stellar/blob-2"
        class="text-primary-400/50 absolute top-0 left-0 -z-10 h-[200%] w-[150%] translate-x-[20%]"
        aria-hidden="true"
      />

      <!-- center card -->
      <div class="relative z-10 p-1">
        <div class="rounded-xl px-4 py-20 text-center">
          <div class="mx-auto max-w-2xl">
            <h2 class="h1">
              {title}
            </h2>
            <p class="description mt-6">
              {description}
            </p>
            <div class="mt-10 flex justify-center">
              <Button variant="primary" href={ctaLink} arrow="right">
                {ctaText}
              </Button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
